# 网络分层的真实含义

## 网络为什么要分层

- 复杂的程序都要分层，这是程序设计的要求



## 程序是如何工作的？

![](https://static001.geekbang.org/resource/image/06/ea/06b355394f525c54f200d8a1af63ddea.jpg)



## 揭秘层与层之间的关系

- 所有不能表示出层层封装含义的比喻，都是不恰当的。
- 只要是在网络上跑的包，都是完整的。可以有下层没上层，绝不可以有上层没下层
- 对TCP协议来说，三次握手也好，重试也好，只要想发出去的包，就要有IP层和MAC层，不然是发不出去的。



## 小结

- 始终想象自己是一个处理网络包的程序：如何拿到网络包，如何根据规则进行处理，如何发出去；
- 始终牢记一个原则：只要是在网络上跑的包，都是完整的。可以有下层没上层，绝不可以有上层没下层